"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[179],{90075:function(Y,x,a){a.r(x),a.d(x,{default:function(){return K}});var r=a(67294),g=a(15009),f=a.n(g),T=a(19632),S=a.n(T),D=a(99289),j=a.n(D),A=a(5574),C=a.n(A),N=a(65919),b=a(2453),L=a(35183),p=a(41746),R=a(49956),W=a(78537),z=a(27067),G=a(41151),B=a(56034),E=a(4073),O=a(79016),P=a(6228),F=a(88916),M=a(80854),l=a(85893);L.D([R.N,W.N,z.N,G.N,B.N,F.N,E.T,O.z,P.N]);var Z=[{title:"\u538B\u5EF6\u673A1\u80F6\u7247\u5BBD\u5EA6mm(\u63A5\u53D6\u5904\u6D4B\u91CF)",dataIndex:"col1"},{title:"\u538B\u5EF6\u673A1\u80F6\u7247\u5BBD\u5EA6mm(\u8D34\u5408\u5904\u6D4B\u91CF)",dataIndex:"col2"},{title:"\u538B\u5EF6\u673A1\u4E3B\u7535\u673A\u7535\u6D41 A",dataIndex:"col3"},{title:"\u538B\u5EF6\u673A1\u901F\u5EA6 mpm",dataIndex:"col4"},{title:"\u538B\u5EF6\u673A1\u51FA\u80F6\u6E29\u5EA6 \u2103",dataIndex:"col5"},{title:"\u538B\u5EF6\u673A1\u62C9\u51FA\u8F8A\u901F\u5EA6 mpm",dataIndex:"col6"},{title:"\u63A5\u53D61\u8FD0\u8F93\u5E26\u901F\u5EA6 mpm",dataIndex:"col7"},{title:"\u538B\u5EF6\u673A1\u4FEE\u8FB9\u5200\u5B9E\u9645\u5200\u95F4\u8DDD mm",dataIndex:"col8"},{title:"\u538B\u5EF6\u673A1\u4E0A\u8F8A\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col9"},{title:"\u538B\u5EF6\u673A1\u4E0B\u8F8A\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col10"},{title:"\u6324\u51FA\u673A1\u4E3B\u7535\u673A\u7535\u6D41 A",dataIndex:"col11"},{title:"\u6324\u51FA\u673A1\u901F\u5EA6 rpm",dataIndex:"col12"},{title:"\u6324\u51FA\u673A1\u673A\u5934\u538B\u529B Mpa",dataIndex:"col13"},{title:"\u6324\u51FA\u673A1\u673A\u5934\u6E29\u5EA6  \u2103",dataIndex:"col14"},{title:"\u6324\u51FA\u673A1\u87BA\u6746\u672B\u7AEF\u538B\u529B Mpa",dataIndex:"col15"},{title:"\u6324\u51FA\u673A1\u673A\u5934\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col16"},{title:"\u6324\u51FA\u673A1\u5851\u53161\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col17"},{title:"\u6324\u51FA\u673A1\u5851\u53162\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col18"},{title:"\u6324\u51FA\u673A1\u673A\u7B52\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col19"},{title:"\u6324\u51FA\u673A1\u87BA\u6746\u6E29\u63A7\u6E29\u5EA6 \u2103",dataIndex:"col20"},{title:"\u64CD\u4F5C\u4FA7\u6D4B\u539A\u5B9E\u9645\u503C",dataIndex:"col21"},{title:"\u9A71\u52A8\u4FA7\u6D4B\u539A\u5B9E\u9645\u503C",dataIndex:"col22"},{title:"\u751F\u4EA7\u9700\u8981\u5B9E\u9645\u5BBD\u5EA6",dataIndex:"col23",render:function(n,i){return(0,l.jsx)("span",{style:{color:"blue"},children:n})}},{title:"\u5907\u752824",dataIndex:"col24",hideInTable:!0},{title:"\u5907\u752825",dataIndex:"col25",hideInTable:!0},{title:"\u5907\u752826",dataIndex:"col26",hideInTable:!0},{title:"\u5907\u752827",dataIndex:"col27",hideInTable:!0},{title:"\u5907\u752828",dataIndex:"col28",hideInTable:!0},{title:"\u4FEE\u95F4\u5200\u5200\u8DDD",dataIndex:"actualWidth",render:function(n,i){return(0,l.jsx)("span",{style:{color:"red"},children:n})}},{title:"\u80F6\u7247\u5BBD\u5EA6\u9884\u6D4B\u503C",dataIndex:"predictedWidth",render:function(n,i){return(0,l.jsx)("span",{style:{color:"green"},children:n})}},{title:"\u65F6\u95F4",dataIndex:"timestamp",valueType:"time"}],H=function(){var n=(0,r.useState)(Array(5).fill({})),i=C()(n,2),o=i[0],Q=i[1],m=(0,r.useRef)(null),v=(0,r.useRef)(null),U=20,I=function(){var s=j()(f()().mark(function c(){var t,u;return f()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,M.request)("/api/getData");case 3:t=e.sent,u={col1:t[0],col2:t[1],col3:t[2],col4:t[3],col5:t[4],col6:t[5],col7:t[6],col8:t[7],col9:t[8],col10:t[9],col11:t[10],col12:t[11],col13:t[12],col14:t[13],col15:t[14],col16:t[15],col17:t[16],col18:t[17],col19:t[18],col20:t[19],col21:t[20],col22:t[21],col23:t[22],actualWidth:t[28],predictedWidth:t[29],timestamp:t[30]},Q(function(X){var h=[u].concat(S()(X));return h.length>U&&h.pop(),h}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.ZP.error("\u6570\u636E\u83B7\u53D6\u5931\u8D25");case 11:case"end":return e.stop()}},c,null,[[0,8]])}));return function(){return s.apply(this,arguments)}}(),V=function(){if(m.current){var c=p.S1(m.current),t={title:{text:"\u3000\u751F\u4EA7\u9700\u8981\u5BBD\u5EA6/\u80F6\u7247\u9884\u6D4B\u5BBD\u5EA6"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},min:498,max:502},series:[{name:"\u80F6\u7247\u9884\u6D4B\u5BBD\u5EA6",type:"line",showSymbol:!1,data:o.map(function(e){return[e.timestamp,e.predictedWidth]}),itemStyle:{color:"green"}},{name:"\u751F\u4EA7\u9700\u8981\u5B9E\u9645\u5BBD\u5EA6",type:"line",showSymbol:!1,data:o.map(function(e){return[e.timestamp,e.col23]}),itemStyle:{color:"blue"}}]};c.setOption(t)}if(v.current){var u=p.S1(v.current),y={title:{text:"\u3000\u4FEE\u95F4\u5200\u5200\u8DDD"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},min:500,max:620},series:[{name:"\u4FEE\u95F4\u5200\u5200\u8DDD",type:"line",showSymbol:!1,data:o.map(function(e){return[e.timestamp,e.actualWidth]}),itemStyle:{color:"red"}}]};u.setOption(y)}};return(0,r.useEffect)(function(){I();var s=setInterval(I,1e3);return function(){return clearInterval(s)}},[]),(0,r.useEffect)(function(){V()},[o]),(0,l.jsxs)("div",{children:[(0,l.jsx)(N.Z,{columns:Z,dataSource:o,search:!1,dateFormatter:"string",headerTitle:(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"\u80F6\u7247\u5BBD\u5EA6\u9884\u6D4B\u63A7\u5236"}),pagination:{pageSize:5,showSizeChanger:!0,pageSizeOptions:["5"]},className:"custom-table"}),(0,l.jsxs)("div",{style:{width:"100%",height:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:10,background:"white"},className:"custom-table",children:[(0,l.jsx)("div",{ref:m,style:{width:"50%",height:"400px",marginTop:"20px"}}),(0,l.jsx)("div",{ref:v,style:{width:"50%",height:"400px",marginTop:"20px"}})]})]})},$=H,J=function(){return(0,l.jsx)("div",{style:{padding:0,minHeight:"100vh"},children:(0,l.jsx)($,{})})},K=J}}]);
